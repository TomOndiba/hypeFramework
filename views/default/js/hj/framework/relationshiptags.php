elgg.provide("hj.framework.relationshiptags");hj.framework.relationshiptags.init=function(){var a=hj.framework.relationshiptags.sourceentities;$(".relationship-tag-remove").die().live("click",function(a){a.preventDefault();$(this).parents("li:first").remove()});$(".hj-relationship-tags-autocomplete").bind("keydown",function(a){if(a.keyCode===$.ui.keyCode.TAB&&$(this).data("autocomplete").menu.active){a.preventDefault()}}).autocomplete({source:function(b,c){c($.ui.autocomplete.filter(a,b.term))},focus:function(){return false},select:function(a,b){var c='<li class="relationship-tag hj-padding-ten clearfix">\n\n                            <span class="hj-left hj-padding-ten"><img src="'+b.item.icon+'" /></span>\n\n                            <span class="hj-left hj-padding-ten">'+b.item.value+'</span>\n\n                            <a class="relationship-tag-remove hj-right">'+elgg.echo("remove")+'</a>\n\n                            <input type="hidden" name="relationship_tag_guids[]" value="'+b.item.guid+'" />\n\n                        </li>';$("ul#relationship-tags").prepend(c);this.value="";return false}})};elgg.register_hook_handler("init","system",hj.framework.relationshiptags.init);elgg.register_hook_handler("success","hj:framework:ajax",hj.framework.relationshiptags.init,500);